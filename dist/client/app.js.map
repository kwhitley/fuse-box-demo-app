{"version":3,"sources":["/client/index.jsx","/client/state/index.js","/client/state/groups.js","/client/state/api.js","/client/state/route.js","/client/state/dashboards.js","/client/state/dashboards.models.js","/client/state/tags.js","/client/state/tags.models.js","/client/state/tags.streaming.js","/client/components/App.jsx","/client/components/Nav.jsx","/client/components/pages/Groups/index.jsx","/client/components/pages/Package/index.jsx","/client/components/pages/Package/Dependencies.jsx","/client/components/pages/Package/List.jsx","/client/components/messages/ErrorMessage.jsx","/client/components/pages/Tags/index.jsx","/client/components/pages/Tags/TagsList.jsx","/client/components/pages/Tags/HighChart.jsx","/client/components/pages/Tags/AllowEdit.jsx"],"names":["history","sagaMiddleware","rootReducer","mergedReducers","store","window","__REDUX_DEVTOOLS_EXTENSION__","listen","path","location","pathname","search","hash","dispatch","route","actions","change","dashboards","addGroup","addTagToGroup","run","api","sagas","watcherSaga","tags","streamingSaga","loadTags","connectStream","ReactDom","render","document","getElementById","groups","namespace","getGroups","state","get","getNumGroups","size","getHalfGroups","number","slice","Math","floor","asTreeData","flatData","toJS","rootKey","getTreeData","getGroupsSorted","sort","A","B","a","b","reverse","getHalfGroupsUnsorted","getHalfGroupsSorted","selectors","Group","Record","id","undefined","parentId","title","date","Date","isActive","expanded","initialState","modeEditingOrder","modeAddingGroup","all","actionReducers","type","reducer","action","nextID","maxBy","i","update","push","setEditingOrder","value","set","setAddingGroup","toggleIsActive","map","group","active","editGroup","values","merge","removeGroup","filter","toggleGroupExpanded","reorderGroups","parentsMap","find","g","fetchPackageInfo","byName","name","toDepsArray","deps","version","getPackage","getIn","getTimesLoaded","getDependencies","getDevDependencies","getDependenciesAsArray","getDevDependenciesAsArray","Resource","isLoading","success","error","data","package","timesLoaded","axios","then","r","console","log","message","loadPackageInfo","loadPackageInfoSuccess","count","loadPackageInfoError","getTags","findTag","tag","findGroup","getLastId","items","getLastGroupID","parent","tagID","groupID","matchedGroup","Error","GroupedTag","List","Tag","fetchTags","getTagById","item","onlyActive","getActiveTags","getEditingTagID","getTreeFromFlatData","getEditingTag","tagsLoader","ApiResource","streamStatus","Stream","editingTag","order","created","updated","setIn","connectStreamSuccess","disconnectStream","updateTagFromStream","loadTagsSuccess","loadTagsError","setEditingTag","unsetEditingTag","editTag","isWatching","isConnected","lastMessageReceived","CHANNEL_NAME","connect","channel","socket","resolve","on","subscribe","emit","warn","tasks","close","App","routes","component","length","ConnectedGroupsList","ConnectedPackage","Tags","Nav","NavLink","Groups","treeData","node","mapStateToProps","ConnectedGroups","Package","pkg","devDeps","propTypes","PropTypes","object","isRequired","array","func","defaultProps","Dependencies","PackageList","libs","lib","string","ErrorMessage","children","element","cards","Array","fill","random","toString","TagsList","editingTagID","ConnectedTagsList","config","chart","text","credits","enabled","xAxis","dateTimeLabelFormats","month","year","yAxis","series","legend","plotOptions","spline","marker","Chart","props","next","getChart","newValues","v","addPoint","pop","ref","React","Component","AllowEdit","isEditing","enterEditMode","exitEditMode","saveTagAction"],"mappings":"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","file":"","sourcesContent":["import 'semantic-ui-css/semantic.min.css'\nimport 'react-sortable-tree/style.css'\n// import 'antd/dist/antd.min.css'\n\nimport React from 'react'\nimport ReactDom from 'react-dom'\n\nimport { combineReducers } from 'redux-immutable'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { Provider } from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\nimport createSagaMiddleware from 'redux-saga'\nimport createHistory from 'history/createBrowserHistory'\n\nimport mergedReducers from './state'\nimport App from './components/App'\nimport api from './state/api'\nimport tags from './state/tags'\nimport route from './state/route'\nimport dashboards from './state/dashboards'\nimport './styles/base.scss'\nimport './styles/base.less'\n\nconst history = createHistory()\nconst sagaMiddleware = createSagaMiddleware()\nconst rootReducer = combineReducers(mergedReducers)\nconst store = createStore(\n  rootReducer,\n  compose(\n    applyMiddleware(sagaMiddleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  )\n)\n\n// history binding... messy, abstract elsewhere or turn into module\nhistory.listen(location => {\n  let path = `${location.pathname}${location.search}${location.hash}`\n  store.dispatch(route.actions.change(path))\n})\n\nstore.dispatch(dashboards.addGroup('Newish Group', 1))\nstore.dispatch(dashboards.addTagToGroup(6, 2))\n\nlet path = `${location.pathname}${location.search}${location.hash}`\nstore.dispatch(route.actions.change(path))\n\n// register sagas\nsagaMiddleware.run(api.sagas.watcherSaga)\nsagaMiddleware.run(tags.sagas.watcherSaga)\nsagaMiddleware.run(tags.sagas.streamingSaga)\nstore.dispatch(tags.loadTags())\nstore.dispatch(tags.connectStream())\n\nReactDom.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('app')\n)\n","import { merge } from 'redux-automap'\nimport groups from './groups'\nimport api from './api'\nimport route from './route'\nimport dashboards from './dashboards'\nimport tags from './tags'\n\nexport default merge([ groups, api, route, dashboards, tags ])\n","import { fromJS, List, Record } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport { getTreeFromFlatData } from 'react-sortable-tree'\n\nexport const namespace = 'groups'\n\nconst getGroups = state => state.get('all')\nconst getNumGroups = state => state.get('all').size\nconst getHalfGroups = (groups, number) => groups.slice(0, Math.floor(number / 2))\nconst asTreeData = groups => getTreeFromFlatData({ flatData: groups.toJS(), rootKey: null })\nconst getTreeData = createSelector(getGroups, asTreeData)\n\nconst getGroupsSorted = createSelector(\n  [ getGroups ],\n  groups => groups.sort((A, B) => {\n    const a = B.get('title')\n    const b = A.get('title')\n\n    return a < b ? -1 : (a > b ? 1 : 0)\n  }).reverse()\n)\n\nconst getHalfGroupsUnsorted = createSelector(\n  [ getGroups, getNumGroups ], getHalfGroups\n)\n\nconst getHalfGroupsSorted = createSelector(\n  [ getGroupsSorted, getNumGroups ], getHalfGroups\n)\n\nexport const selectors = {\n  getGroups, getNumGroups, getGroupsSorted, getHalfGroupsUnsorted, getHalfGroupsSorted, getTreeData\n}\n\nconst Group = new Record({\n  id: undefined,\n  parentId: null,\n  title: 'new group',\n  date: new Date(),\n  isActive: false,\n  expanded: false\n})\n\n// initial state for reducer\nexport const initialState = fromJS({\n  modeEditingOrder: false,\n  modeAddingGroup: false,\n  all: [\n    new Group({ id: 1, title: 'Asset 1' }),\n    new Group({ id: 2, title: 'Asset 2' }),\n    new Group({ id: 3, parentId: 2, title: 'Pump 1' }),\n    new Group({ id: 4, parentId: 2, title: 'Pump 2' }),\n    new Group({ id: 5, parentId: 4, title: 'Specific Tag Group' }),\n    new Group({ id: 6, title: 'Asset 3' }),\n    new Group({ id: 7, title: 'Asset 4' }),\n  ],\n})\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    addGroup: (title = 'new group') => ({ type: 'groups/ADD_GROUP', title }),\n    reducer: (state, action) => {\n      let nextID = state.get('all').maxBy(i => i.get('id')).get('id') + 1\n\n      return state.update('all', groups => groups.push(new Group({\n        id: nextID,\n        title: action.title,\n        date: new Date(),\n      })))\n    }\n  },\n  {\n    setEditingOrder: (value) => ({ type: 'groups/SET_MODE_EDITING_ORDER', value }),\n    reducer: (state, action) => state.set('modeEditingOrder', action.value)\n  },\n  {\n    setAddingGroup: (value) => ({ type: 'groups/SET_MODE_ADDING_GROUP', value }),\n    reducer: (state, action) => state.set('modeAddingGroup', action.value)\n  },\n  {\n    toggleIsActive: id => ({ type: 'groups/TOGGLE_GROUP_IS_ACTIVE', id }),\n    reducer: (state, action) => state.update('all', groups => groups.map(group => group.get('id') === action.id ? group.update('isActive', active => !active) : group))\n  },\n  {\n    editGroup: (id, values) => ({ type: 'groups/EDIT_GROUP', id, values }),\n    reducer: (state, action) => state.update('all', groups => groups.map(group => group.get('id') === action.id ? group.merge(action.values) : group))\n  },\n  {\n    // type: constants.REMOVE_GROUP,\n    removeGroup: id => ({ type: 'groups/REMOVE_GROUP', id }),\n    reducer: (state, action) => state.update('all', groups => groups.filter(i => i.get('id') !== action.id))\n  },\n  {\n    // type: constants.REMOVE_GROUP,\n    toggleGroupExpanded: id => ({ type: 'groups/TOGGLE_GROUP_EXPANDED', id }),\n    reducer: (state, action) => state.update('all', groups => groups.map(group => group.get('id') === action.id ? group.update('expanded', active => !active) : group))\n  },\n  {\n    // type: constants.REMOVE_GROUP,\n    reorderGroups: parentsMap => ({ type: 'groups/REORDER_GROUPS', parentsMap }),\n    reducer: (state, action) => state\n                                  .update('all',\n                                    groups => List(action.parentsMap.map(\n                                      g => groups\n                                            .find(group => group.get('id') === g.id)\n                                            .set('parentId', g.parentId)\n                                            .set('expanded', g.expanded)\n                                    ))\n                                  )\n  }\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors })\n","import { fromJS, Record } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport axios from 'axios'\nimport { call, put, takeLatest } from 'redux-saga/effects'\n\nexport const namespace = 'api'\n\nconst byName = (a, b) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)\nconst toDepsArray = deps => deps && Object\n                                      .entries(deps.toJS())\n                                      .map(i => ({ name: i[0], version: i[1] }))\n                                      .sort(byName)\n\nconst getPackage = state => state.getIn(['package'])\nconst getTimesLoaded = state => state.get('timesLoaded')\nconst getDependencies = state => state.getIn([ 'package', 'data', 'dependencies' ])\nconst getDevDependencies = state => state.getIn([ 'package', 'data', 'devDependencies' ])\nconst getDependenciesAsArray = createSelector([ getDependencies ], toDepsArray)\nconst getDevDependenciesAsArray = createSelector([ getDevDependencies ], toDepsArray)\n\nconst selectors = {\n  getPackage,\n  getTimesLoaded,\n  getDependencies,\n  getDevDependencies,\n  getDependenciesAsArray,\n  getDevDependenciesAsArray,\n}\n\nconst Resource = Record({\n  isLoading: false,\n  success: undefined,\n  error: undefined,\n  data: undefined,\n})\n\n// initial state for reducer\nexport const initialState = fromJS({\n  package: new Resource(),\n  timesLoaded: 0,\n})\n\nfunction* fetchPackageInfo() {\n  try {\n    const data = yield call(() => axios.get('/package.json').then(r => fromJS(r.data)))\n    yield put({ type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data })\n  } catch (error) {\n    console.log('fetchPackageInfo', error)\n    yield put({ type: 'api/LOAD_PACKAGE_INFO_ERROR', error: error.message })\n    // throw new Error(error)\n  }\n}\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* watcherSaga() {\n  yield takeLatest('api/LOAD_PACKAGE_INFO', fetchPackageInfo)\n}\n\nconst sagas = {\n  watcherSaga,\n  fetchPackageInfo\n}\n\n// define all action/reducer pairs here... add 'type' attributes for\nexport const actionReducers = [\n  {\n    loadPackageInfo: () => ({ type: 'api/LOAD_PACKAGE_INFO' }),\n    reducer: state => state.set('package', new Resource({ isLoading: true, data: state.getIn([ 'package', 'data' ]) }))\n  },\n  {\n    loadPackageInfoSuccess: data => ({ type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data }),\n    reducer: (state, action) => state\n                                  .set('package', new Resource({ isLoading: false, success: true, data: action.data }))\n                                  .update('timesLoaded', count => count + 1)\n  },\n  {\n    loadPackageInfoError: error => ({ type: 'api/LOAD_PACKAGE_INFO_ERROR', error }),\n    reducer: (state, action) => state.set('package', new Resource({ error: action.error, success: false }))\n  },\n]\n\nexport default automap({ sagas, namespace, actionReducers, initialState, selectors })\n","import { automap } from 'redux-automap'\n\nexport const namespace = 'route'\n\n// initial state for reducer\nexport const initialState = '/'\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    change: path => ({ type: 'route/CHANGE', path }),\n    reducer: (state, action) => action.path,\n  },\n]\n\nexport default automap({ namespace, actionReducers, initialState })\n","import { fromJS } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport { Group, GroupedTag } from './dashboards.models'\n\nexport const namespace = 'dashboards'\n\nconst getTags = state => state.get('tags')\nconst getGroups = state => state.get('groups')\nconst findTag = (state, id) => state\n                                .get('tags')\n                                .find(tag => tag.get('id') === id)\nconst findGroup = (state, id) => state\n                                .get('groups')\n                                .find(group => group.get('id') === id)\nconst getLastId = items => items.maxBy(i => i.get('id')).get('id')\n// const getLastTagID = createSelector(getTags, getLastId)\nconst getLastGroupID = createSelector(getGroups, getLastId)\n\nexport const selectors = {\n  getTags, findTag\n}\n\n// initial state for reducer\nexport const initialState = fromJS({\n  tags: [\n    { id: 1, name: 'foo' },\n    { id: 2, name: 'bar' },\n    { id: 3, name: 'baz' },\n    { id: 4, name: 'cat' },\n    { id: 5, name: 'miffles' },\n    { id: 6, name: 'vlad' },\n    { id: 7, name: 'baxter' },\n  ],\n  groups: [\n    new Group({ id: 1, name: 'First Group' })\n  ]\n})\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    addGroup: (name, parent) => ({ type: 'list/ADD_GROUP', name, parent }),\n    reducer: (state, action) => {\n      let nextID = getLastGroupID(state) + 1\n\n      return state.update('groups', groups => groups.push(\n        new Group({ id: nextID, name: action.name, parent: action.parent })\n      ))\n    }\n  },\n  {\n    addTagToGroup: (tagID, groupID) => ({ type: 'list/ADD_TAG_TO_GROUP', tagID, groupID }),\n    reducer: (state, action) => {\n      let tag = findTag(state, action.tagID)\n      let matchedGroup = findGroup(state, action.groupID)\n\n      // console.log('matched tag', tag.toJS())\n      // console.log('matched group', matchedGroup.toJS())\n\n      if (!tag) throw new Error(`no tag found with id=${action.tagID}`, action)\n      if (!matchedGroup) throw new Error(`no group found with id=${action.groupID}`, action)\n\n      return state\n              .update('groups',\n                groups => groups.map(\n                  group => group === matchedGroup\n                            ? group.update('tags', tags => tags.push(new GroupedTag({ id: tag.get('id'), name: tag.get('name') })))\n                            : group\n                )\n              )\n    }\n  },\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors })\n","import { Record, List } from 'immutable'\n\n// initial state for reducer\nexport const Group = new Record({\n  id: undefined,\n  path: [ 'Assets', 'Region 1', 'Pumps' ],\n  name: 'New Group',\n  parent: undefined,\n  tags: new List(),\n})\n\n// initial state for reducer\nexport const Tag = new Record({\n  id: undefined,\n  name: 'New Tag',\n})\n\nexport const GroupedTag = new Record({\n  id: undefined,\n  name: 'New Grouped Tag',\n})\n\n// initial state for reducer\nexport default { Group, Tag, GroupedTag }\n","import { fromJS } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport axios from 'axios'\nimport { call, put, takeLatest } from 'redux-saga/effects'\nimport { Tag, ApiResource, Stream } from './tags.models'\nimport streamingSaga from './tags.streaming'\n\nexport const namespace = 'tags'\n\nconst getTags = state => state.get('all')\nconst getTagById = (items, id) => items.find(item => item.get('id') === id)\nconst onlyActive = items => items.filter(item => item.get('isActive'))\nconst getActiveTags = createSelector(getTags, onlyActive)\nconst getEditingTagID = state => state.get('editingTag')\nconst asTreeData = items => getTreeFromFlatData({ flatData: items })\nconst getEditingTag = state => createSelector(getTags, getEditingTagID, getTagById)\n\nconst selectors = {\n  getTags, getActiveTags, getEditingTag, getEditingTagID\n}\n\n// initial state for reducer\nexport const initialState = fromJS({\n  tagsLoader: new ApiResource(),\n  streamStatus: new Stream(),\n  editingTag: false,\n  all: [\n    { id: 1, order: 1, name: 'foo', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 2, order: 2, name: 'bar', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 3, order: 3, name: 'baz', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 4, order: 4, name: 'cat', created: new Date(), updated: new Date(), isActive: false, values: [] },\n    { id: 5, order: 5, name: 'miffles', created: new Date(), updated: new Date(), isActive: false, values: [] },\n    { id: 6, order: 6, name: 'vlad', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 7, order: 7, name: 'baxter', created: new Date(), updated: new Date(), isActive: true, values: [] },\n  ],\n})\n\nfunction* fetchTags() {\n  try {\n    const data = yield call(() => axios.get('/api/tags').then(r => fromJS(r.data)))\n    yield put({ type: 'tags/LOAD_TAGS_SUCCESS', data })\n  } catch (error) {\n    console.log('fetchTags', error)\n    yield put({ type: 'tags/LOAD_TAGS_ERROR', error: error.message })\n  }\n}\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* watcherSaga() {\n  yield takeLatest('tags/LOAD_TAGS', fetchTags)\n}\n\nconst sagas = {\n  watcherSaga,\n  fetchTags,\n  streamingSaga\n}\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    connectStream: () => ({ type: 'tags/stream/CONNECT' }),\n    reducer: state => state.setIn(['streamStatus', 'isConnected'], false)\n  },\n  {\n    connectStreamSuccess: () => ({ type: 'tags/stream/CONNECT_SUCCESS' }),\n    reducer: state => state.setIn(['streamStatus', 'isConnected'], true)\n  },\n  {\n    disconnectStream: () => ({ type: 'tags/stream/DISCONNECT' }),\n    reducer: (state, action) => state.setIn(['streamStatus', 'isConnected'], false)\n  },\n  {\n    updateTagFromStream: (id, values) => ({ type: 'tags/stream/UPDATE', id, values }),\n    reducer: (state, action) => state.update('all', all => all.map(tag => tag.get('id') === action.id ? tag.set('values', action.values) : tag))\n  },\n  {\n    loadTags: () => ({ type: 'tags/LOAD_TAGS' }),\n    reducer: state => state.set('tagsLoader', new ApiResource({ isLoading: true }))\n  },\n  {\n    loadTagsSuccess: data => ({ type: 'tags/LOAD_TAGS_SUCCESS', data }),\n    reducer: (state, action) => state\n                                  .set('tagsLoader', new ApiResource({ success: true }))\n                                  .set('all', action.data.map(item => new Tag(item)))\n  },\n  {\n    loadTagsError: error => ({ type: 'tags/LOAD_TAGS_ERROR', error }),\n    reducer: (state, action) => state.set('tagsLoader', new ApiResource({ error: action.error }))\n  },\n  {\n    setEditingTag: id => ({ type: 'tags/SET_EDITING_TAG', id }),\n    reducer: (state, action) => state.set('editingTag', action.id)\n  },\n  {\n    unsetEditingTag: id => ({ type: 'tags/UNSET_EDITING_TAG' }),\n    reducer: (state, action) => state.set('editingTag', false)\n  },\n  {\n    editTag: (id, values) => ({ type: 'tags/EDIT_TAG', id, values }),\n    reducer: (state, action) => state\n                                  .set('editingTag', false)\n                                  .update('all',\n                                    tags => tags.map(tag =>\n                                      tag.get('id') === action.id ? tag.merge(action.values) : tag\n                                    )\n                                  )\n  }\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors, sagas })\n","import { Record, List } from 'immutable'\n\nexport const Tag = new Record({\n  id: undefined,\n  name: 'new tag',\n  created: undefined,\n  updated: undefined,\n  isActive: true,\n  isWatching: true,\n  values: List()\n})\n\nexport const ApiResource = Record({\n  isLoading: false,\n  success: false,\n  error: undefined,\n})\n\nexport const Stream = Record({\n  isConnected: false,\n  lastMessageReceived: undefined,\n  error: undefined,\n})\n","import io from 'socket.io-client'\nimport { eventChannel } from 'redux-saga'\nimport { fork, take, call, put, all, cancel } from 'redux-saga/effects'\n\nimport tags from './tags'\nconst CHANNEL_NAME = '/tags'\n\nfunction connect(channel) {\n  console.log('connecting to socket channel', channel)\n  const socket = io()\n  return new Promise((resolve) => {\n    socket.on('connect', () => {\n      console.log('connected to socket server')\n      resolve(socket)\n    })\n  })\n}\n\nfunction subscribe(socket) {\n  return eventChannel((emit) => {\n    socket.on('tags/update', (data) => {\n      emit(data)\n    })\n    socket.on('disconnect', () => {\n      console.warn('socket disconnected')\n    })\n    return () => { }\n  })\n}\n\nfunction* listen(socket) {\n  const channel = yield call(subscribe, socket)\n  while (true) {\n    const { id, values } = yield take(channel)\n    // console.log(`receiving data from channel ${CHANNEL_NAME}`, id, values)\n    yield put(tags.updateTagFromStream(id, values ))\n  }\n}\n\nexport default function* streamingSaga() {\n  while (true) {\n    // Wait until connect requested\n    yield take('tags/stream/CONNECT')\n\n    // Create a socket connection\n    const socket = yield call(connect, CHANNEL_NAME)\n    yield put(tags.connectStreamSuccess())\n    /*\n      Parallelize the following tasks, and continue:\n        - listen for socket events\n        - wait for user to start a signal stream\n        - wait for user to stop a signal stream\n    */\n    const tasks = yield all([\n      fork(listen, socket),\n    ])\n\n    // Wait until disconnect requested\n    yield take('tags/stream/DISCONNECT')\n\n    // Close the socket connection\n    socket.emit('disconnect')\n    socket.close()\n\n    // stop each task\n    // yield cancel(...tasks)\n  }\n}\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Navigation, { routes } from './Nav'\n\nconst App = () =>\n  <div>\n    <h1>FuseBox Workflow Demo</h1>\n    <Navigation />\n    <div className=\"page-content\">\n      <Switch>\n        {\n          routes.map(route => <Route\n                                key={route.path}\n                                path={route.path}\n                                component={route.component}\n                              />\n          )\n        }\n        <Redirect from=\"/\" exact to={routes.length && routes[0].path} />\n      </Switch>\n    </div>\n  </div>\n\nexport default App\n","import React from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport { NavLink } from 'react-router-dom'\n\n// pages\nimport { ConnectedGroupsList } from './pages/Groups'\nimport { ConnectedPackage } from './pages/Package'\nimport Tags from './pages/Tags'\n\nexport const routes = [\n  { path: '/list', name: 'Groups', component: ConnectedGroupsList },\n  { path: '/package', name: 'Package', component: ConnectedPackage },\n  { path: '/groups', name: 'Streaming Tags', component: Tags },\n]\n\nexport const Nav = () =>\n  <Menu pointing secondary className=\"navigation\">\n    {\n      routes.map(route => <Menu.Item\n                            key={route.path}\n                            to={route.path}\n                            name={route.name}\n                            as={NavLink}\n                          />)\n    }\n  </Menu>\n\nexport default Nav\n","import React from 'react'\nimport SortableTree from 'react-sortable-tree'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport groups from '../../../state/groups'\n\nconst Groups = ({ treeData, toggleGroupExpanded }) =>\n  <SortableTree\n    className=\"tag-groups-tree\"\n    treeData={treeData}\n    onChange={() => {}}\n    rowHeight={52}\n    onVisibilityToggle={({ node, expanded }) => {\n      toggleGroupExpanded(node.id)\n      console.log('toggling group expansion', node, expanded)\n    }}\n    canDrag={false}\n    />\n\nconst mapStateToProps = state => ({\n  treeData: groups.getTreeData(state)\n})\n\nexport const ConnectedGroups = connect(mapStateToProps, groups.actions)(fromImmutable(Groups))\n\nexport default Groups\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport Dependencies from './Dependencies'\nimport ErrorMessage from '../../messages/ErrorMessage'\nimport api from '../../../state/api'\n\nconst Package = ({ pkg, deps, devDeps, timesLoaded, loadPackageInfo }) =>\n  <div className=\"package-loader\">\n    <Button fluid disabled={pkg.isLoading} onClick={loadPackageInfo} loading={pkg.isLoading}>\n      { deps.length ? `Reload Package (loaded ${timesLoaded} times)` : 'Load Package' }\n    </Button>\n    { deps.length > 0 && <Dependencies deps={deps} devDeps={devDeps} /> }\n    { pkg.error && <ErrorMessage message={pkg.error} /> }\n  </div>\n\nPackage.propTypes = {\n  pkg: PropTypes.object.isRequired,\n  deps: PropTypes.array,\n  devDeps: PropTypes.array,\n  timesLoaded: PropTypes.number.isRequired,\n  loadPackageInfo: PropTypes.func.isRequired,\n}\n\nPackage.defaultProps = {\n  deps: [],\n  devDeps: []\n}\n\nconst mapStateToProps = state => ({\n  pkg: api.getPackage(state),\n  deps: api.getDependenciesAsArray(state),\n  devDeps: api.getDevDependenciesAsArray(state),\n  timesLoaded: api.getTimesLoaded(state),\n})\n\nexport const ConnectedPackage = connect(mapStateToProps, {\n  loadPackageInfo: api.actions.loadPackageInfo\n})(fromImmutable(Package))\n\nexport default Package\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, Message } from 'semantic-ui-react'\nimport List from './List'\n\nconst Dependencies = ({ deps, devDeps }) =>\n  <Message positive>\n    <Grid columns={2} divided>\n      <Grid.Row>\n        <Grid.Column>\n          <List name=\"Dependencies\" libs={deps} />\n        </Grid.Column>\n        <Grid.Column>\n          <List name=\"Dev. Dependencies\" libs={devDeps} />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Message>\n\nDependencies.propTypes = {\n  deps: PropTypes.array,\n  devDeps: PropTypes.array,\n}\n\nDependencies.defaultProps = {\n  deps: [],\n  devDeps: [],\n}\n\nexport default Dependencies\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { List, Statistic } from 'semantic-ui-react'\n\nconst PackageList =({ name, libs = [] }) =>\n  <div>\n    <Statistic horizontal color=\"green\" label={name} value={libs.length} />\n    <List>\n      {\n        libs.map(lib => (\n          <List.Item key={lib.name}><b>{ lib.name }</b>: { lib.version }</List.Item>\n        ))\n      }\n    </List>\n  </div>\n\nPackageList.propTypes = {\n  name: PropTypes.string.isRequired,\n  libs: PropTypes.array,\n}\n\nPackageList.defaultProps = {\n  libs: [],\n}\n\nexport default PackageList\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Message } from 'semantic-ui-react'\n\nconst ErrorMessage = ({ message, children }) =>\n  <Message negative>\n    <Message.Header>We&lsquo;ve encountered an error.</Message.Header>\n    <p>{ message || children }</p>\n  </Message>\n\nErrorMessage.propTypes = {\n  message: PropTypes.string,\n  children: PropTypes.element\n}\n\nErrorMessage.defaultProps = {\n  message: undefined,\n  children: undefined\n}\n\nexport default ErrorMessage\n","import React from 'react'\nimport { Grid, Container, Sidebar, Segment, Menu, Card } from 'semantic-ui-react'\nimport { ConnectedGroups } from '../Groups'\nimport { ConnectedTagsList } from './TagsList'\n\nconst cards = Array(7).fill(0).map(i => ({ name: `Tag #${Math.random().toString().slice(0, 6)}` }))\n\nconst Groups = () =>\n  <Grid divided>\n    <Grid.Row>\n      <Grid.Column width={6}>\n        <ConnectedGroups />\n      </Grid.Column>\n      <Grid.Column width={10}>\n        <ConnectedTagsList />\n      </Grid.Column>\n    </Grid.Row>\n  </Grid>\n\nexport default Groups\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport { Card, Header } from 'semantic-ui-react'\nimport tags from '../../../state/tags'\nimport Chart from './HighChart'\nimport AllowEdit from './AllowEdit'\n\nconst TagsList = ({ tags, setEditingTag, editingTagID, unsetEditingTag, editTag }) => {\n  return (\n    <Card.Group className=\"tags\" itemsPerRow={3}>\n      {\n        tags.map(tag =>\n          <Card raised className=\"tag\" key={tag.name}>\n            <Card.Header>\n              <Header floated=\"left\" textAlign=\"center\">{tag.name}</Header>\n              <AllowEdit\n                tag={tag}\n                isEditing={tag.id === editingTagID}\n                enterEditMode={() => setEditingTag(tag.id)}\n                exitEditMode={unsetEditingTag}\n                saveTagAction={editTag}\n              />\n            </Card.Header>\n            <Card.Content>\n              <Chart\n                tag={tag}\n                values={tag.values}\n                min={-20}\n                max={20}\n                setEditingTag={() => setEditingTag(tag.id)}\n              />\n            </Card.Content>\n          </Card>\n        )\n      }\n    </Card.Group>\n  )\n}\n\n\nTagsList.propTypes = {\n  tags: PropTypes.array.isRequired,\n  // addItem: PropTypes.func.isRequired,\n  // removeItem: PropTypes.func.isRequired,\n  // toggleIsActive: PropTypes.func.isRequired,\n}\n\nTagsList.defaultProps = {\n  tags: []\n}\n\nconst mapStateToProps = state => ({\n  tags: tags.getActiveTags(state),\n  editingTagID: tags.getEditingTagID(state),\n})\n\nexport const ConnectedTagsList = connect(mapStateToProps, tags.actions)(fromImmutable(TagsList))\n\nexport default TagsList\n","import React from 'react'\nimport ReactHighcharts from 'react-highcharts'\nimport moment from 'moment'\n\nvar config = {\n  chart: {\n    type: 'spline'\n  },\n  title: {\n    text: undefined\n  },\n  credits: {\n    enabled: false\n  },\n  xAxis: {\n    type: 'datetime',\n    dateTimeLabelFormats: { // don't display the dummy year\n      month: '%e. %b',\n      year: '%b'\n    },\n    title: '',\n  },\n  yAxis: {\n    title: '',\n  },\n  series: [{\n    data: Array(50).fill(0),\n  }],\n  legend: {\n    enabled: false\n  },\n  plotOptions: {\n    spline: {\n      marker: {\n        enabled: false\n      }\n    }\n  }\n}\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n    // this.chart = this.chart.getChart()\n    // console.log('this.chart', this.chart)\n  }\n\n  componentWillReceiveProps(next) {\n    const chart = this.chart.getChart()\n    const newValues = next.values.map(v => [v.date, v.value])\n    // console.log('rendering new values', newValues)\n    // console.log('this.chart', chart)\n    chart.series[0].addPoint(newValues.pop(), true, true, false)\n  }\n\n  render() {\n    return(\n      <div className=\"tag\">\n        <ReactHighcharts config={config} isPureConfig={true} ref={ref => this.chart = ref} />\n      </div>\n    )\n  }\n}\n\nexport default Chart\n","import React from 'react'\nimport { Icon, Dialog, Button, Modal } from 'semantic-ui-react'\n\nconst AllowEdit = ({ tag, isEditing, enterEditMode, exitEditMode, saveTagAction }) => {\n  return (\n    <React.Fragment>\n      <Button\n        basic\n        circular\n        compact\n        className=\"edit-button\"\n        floated=\"right\"\n        icon=\"pencil\"\n        onClick={enterEditMode}\n      />\n\n      <Modal size=\"small\" open={isEditing} onClose={exitEditMode}>\n        <Modal.Header>Edit Tag > { tag.name }</Modal.Header>\n        <Modal.Content>\n          <p>Some edit content forms would go here.</p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic onClick={exitEditMode}>Cancel</Button>\n          <Button positive icon='checkmark' labelPosition='right' content='Save' onClick={() => saveTagAction(tag.id, tag)} />\n        </Modal.Actions>\n      </Modal>\n    </React.Fragment>\n  )\n}\n\nexport default AllowEdit\n"]}