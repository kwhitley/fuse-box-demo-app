{"version":3,"sources":["/client/index.jsx","/client/state/index.js","/client/state/list.js","/client/state/api.js","/client/state/route.js","/client/state/dashboards.js","/client/state/dashboards.models.js","/client/state/tags.js","/client/state/tags.models.js","/client/state/tags.streaming.js","/client/components/App.jsx","/client/components/Nav.jsx","/client/components/pages/List/index.jsx","/client/components/pages/List/Item.jsx","/client/components/pages/List/AddItem.jsx","/client/components/pages/Package/index.jsx","/client/components/pages/Package/Dependencies.jsx","/client/components/pages/Package/List.jsx","/client/components/messages/ErrorMessage.jsx","/client/components/pages/Groups/index.jsx","/client/components/pages/Groups/GroupsNavigation.jsx","/client/components/pages/Groups/Tags.jsx","/client/components/pages/Groups/HighChart.jsx","/client/components/pages/Groups/AllowEdit.jsx"],"names":["history","sagaMiddleware","rootReducer","mergedReducers","store","window","__REDUX_DEVTOOLS_EXTENSION__","listen","path","location","pathname","search","hash","dispatch","route","actions","change","dashboards","addGroup","addTagToGroup","run","api","sagas","watcherSaga","tags","streamingSaga","loadTags","connectStream","ReactDom","render","document","getElementById","list","namespace","getItems","state","get","getNumItems","size","getHalfItems","items","number","slice","Math","floor","getItemsSorted","sort","A","B","a","b","reverse","getHalfItemsUnsorted","getHalfItemsSorted","selectors","Entry","Record","id","undefined","name","date","Date","isActive","initialState","actionReducers","addItem","type","reducer","action","nextID","maxBy","i","update","push","toggleIsActive","map","item","active","removeItem","filter","foo","fetchPackageInfo","byName","toDepsArray","deps","toJS","version","getPackage","getIn","getTimesLoaded","getDependencies","getDevDependencies","getDependenciesAsArray","getDevDependenciesAsArray","Resource","isLoading","success","error","data","package","timesLoaded","axios","then","r","console","log","message","loadPackageInfo","set","loadPackageInfoSuccess","count","loadPackageInfoError","getTags","getGroups","findTag","find","tag","findGroup","group","getLastId","getLastGroupID","groups","Group","parent","tagID","groupID","matchedGroup","Error","GroupedTag","List","Tag","fetchTags","getTagById","onlyActive","getActiveTags","getEditingTagID","getEditingTag","tagsLoader","ApiResource","streamStatus","Stream","editingTag","all","order","created","updated","values","setIn","connectStreamSuccess","disconnectStream","updateTagFromStream","loadTagsSuccess","loadTagsError","setEditingTag","unsetEditingTag","editTag","merge","isWatching","isConnected","lastMessageReceived","CHANNEL_NAME","connect","channel","socket","resolve","on","subscribe","emit","warn","tasks","close","App","routes","component","length","ConnectedList","ConnectedPackage","Groups","Nav","NavLink","propTypes","PropTypes","array","isRequired","func","mapStateToProps","ListItem","round","object","AddItem","props","value","bind","e","setState","target","itemName","labelPosition","icon","content","React","Component","Package","pkg","devDeps","defaultProps","Dependencies","PackageList","libs","lib","string","ErrorMessage","children","element","cards","Array","fill","random","toString","GroupsNavigation","Tags","editingTagID","ConnectedTags","config","chart","title","text","credits","enabled","xAxis","dateTimeLabelFormats","month","year","yAxis","series","legend","plotOptions","spline","marker","Chart","next","getChart","newValues","v","addPoint","pop","ref","AllowEdit","isEditing","enterEditMode","exitEditMode","saveTagAction"],"mappings":"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","file":"","sourcesContent":["import 'semantic-ui-css/semantic.min.css'\n// import 'antd/dist/antd.min.css'\n\nimport React from 'react'\nimport ReactDom from 'react-dom'\n\nimport { combineReducers } from 'redux-immutable'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { Provider } from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\nimport createSagaMiddleware from 'redux-saga'\nimport createHistory from 'history/createBrowserHistory'\n\nimport mergedReducers from './state'\nimport App from './components/App'\nimport api from './state/api'\nimport tags from './state/tags'\nimport route from './state/route'\nimport dashboards from './state/dashboards'\nimport './styles/base.scss'\nimport './styles/base.less'\n\nconst history = createHistory()\nconst sagaMiddleware = createSagaMiddleware()\nconst rootReducer = combineReducers(mergedReducers)\nconst store = createStore(\n  rootReducer,\n  compose(\n    applyMiddleware(sagaMiddleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  )\n)\n\n// history binding... messy, abstract elsewhere or turn into module\nhistory.listen(location => {\n  let path = `${location.pathname}${location.search}${location.hash}`\n  store.dispatch(route.actions.change(path))\n})\n\nstore.dispatch(dashboards.addGroup('Newish Group', 1))\nstore.dispatch(dashboards.addTagToGroup(6, 2))\n\nlet path = `${location.pathname}${location.search}${location.hash}`\nstore.dispatch(route.actions.change(path))\n\n// register sagas\nsagaMiddleware.run(api.sagas.watcherSaga)\nsagaMiddleware.run(tags.sagas.watcherSaga)\nsagaMiddleware.run(tags.sagas.streamingSaga)\nstore.dispatch(tags.loadTags())\nstore.dispatch(tags.connectStream())\n\nReactDom.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('app')\n)\n","import { merge } from 'redux-automap'\nimport list from './list'\nimport api from './api'\nimport route from './route'\nimport dashboards from './dashboards'\nimport tags from './tags'\n\nexport default merge([ list, api, route, dashboards, tags ])\n","import { fromJS, Record } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\n\nexport const namespace = 'list'\n\nconst getItems = state => state.get('items')\nconst getNumItems = state => state.get('items').size\nconst getHalfItems = (items, number) => items.slice(0, Math.floor(number / 2))\n\nconst getItemsSorted = createSelector(\n  [ getItems ],\n  items => items.sort((A, B) => {\n    const a = B.get('name')\n    const b = A.get('name')\n\n    return a < b ? -1 : (a > b ? 1 : 0)\n  }).reverse()\n)\n\nconst getHalfItemsUnsorted = createSelector(\n  [ getItems, getNumItems ], getHalfItems\n)\n\nconst getHalfItemsSorted = createSelector(\n  [ getItemsSorted, getNumItems ], getHalfItems\n)\n\nexport const selectors = {\n  getItems, getNumItems, getItemsSorted, getHalfItemsUnsorted, getHalfItemsSorted\n}\n\nconst Entry = new Record({\n  id: undefined,\n  name: 'new item',\n  date: new Date(),\n  isActive: false,\n})\n\n// initial state for reducer\nexport const initialState = fromJS({\n  items: [\n    { id: 1, name: 'foo', date: new Date(), isActive: true },\n    { id: 2, name: 'bar', date: new Date(), isActive: true },\n    { id: 3, name: 'baz', date: new Date(), isActive: true },\n    { id: 4, name: 'cat', date: new Date(), isActive: false },\n    { id: 5, name: 'miffles', date: new Date(), isActive: false },\n    { id: 6, name: 'vlad', date: new Date(), isActive: true },\n    { id: 7, name: 'baxter', date: new Date(), isActive: true },\n  ],\n})\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    addItem: (name = 'new item') => ({ type: 'list/ADD_ITEM', name }),\n    reducer: (state, action) => {\n      let nextID = state.get('items').maxBy(i => i.get('id')).get('id') + 1\n\n      return state.update('items', items => items.push(new Entry({\n        id: nextID,\n        name: action.name,\n        date: new Date(),\n      })))\n    }\n  },\n  {\n    toggleIsActive: id => ({ type: 'list/TOGGLE_ITEM_IS_ACTIVE', id }),\n    reducer: (state, action) => state.update('items', items => items.map(item => item.get('id') === action.id ? item.update('isActive', active => !active) : item))\n  },\n  {\n    // type: constants.REMOVE_ITEM,\n    removeItem: id => ({ type: 'list/REMOVE_ITEM', id }),\n    reducer: (state, action) => state.update('items', items => items.filter(i => i.get('id') !== action.id))\n  }\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors, foo: 'bar' })\n","import { fromJS, Record } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport axios from 'axios'\nimport { call, put, takeLatest } from 'redux-saga/effects'\n\nexport const namespace = 'api'\n\nconst byName = (a, b) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)\nconst toDepsArray = deps => deps && Object\n                                      .entries(deps.toJS())\n                                      .map(i => ({ name: i[0], version: i[1] }))\n                                      .sort(byName)\n\nconst getPackage = state => state.getIn(['package'])\nconst getTimesLoaded = state => state.get('timesLoaded')\nconst getDependencies = state => state.getIn([ 'package', 'data', 'dependencies' ])\nconst getDevDependencies = state => state.getIn([ 'package', 'data', 'devDependencies' ])\nconst getDependenciesAsArray = createSelector([ getDependencies ], toDepsArray)\nconst getDevDependenciesAsArray = createSelector([ getDevDependencies ], toDepsArray)\n\nconst selectors = {\n  getPackage,\n  getTimesLoaded,\n  getDependencies,\n  getDevDependencies,\n  getDependenciesAsArray,\n  getDevDependenciesAsArray,\n}\n\nconst Resource = Record({\n  isLoading: false,\n  success: undefined,\n  error: undefined,\n  data: undefined,\n})\n\n// initial state for reducer\nexport const initialState = fromJS({\n  package: new Resource(),\n  timesLoaded: 0,\n})\n\nfunction* fetchPackageInfo() {\n  try {\n    const data = yield call(() => axios.get('/package.json').then(r => fromJS(r.data)))\n    yield put({ type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data })\n  } catch (error) {\n    console.log('fetchPackageInfo', error)\n    yield put({ type: 'api/LOAD_PACKAGE_INFO_ERROR', error: error.message })\n    // throw new Error(error)\n  }\n}\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* watcherSaga() {\n  yield takeLatest('api/LOAD_PACKAGE_INFO', fetchPackageInfo)\n}\n\nconst sagas = {\n  watcherSaga,\n  fetchPackageInfo\n}\n\n// define all action/reducer pairs here... add 'type' attributes for\nexport const actionReducers = [\n  {\n    loadPackageInfo: () => ({ type: 'api/LOAD_PACKAGE_INFO' }),\n    reducer: state => state.set('package', new Resource({ isLoading: true, data: state.getIn([ 'package', 'data' ]) }))\n  },\n  {\n    loadPackageInfoSuccess: data => ({ type: 'api/LOAD_PACKAGE_INFO_SUCCESS', data }),\n    reducer: (state, action) => state\n                                  .set('package', new Resource({ isLoading: false, success: true, data: action.data }))\n                                  .update('timesLoaded', count => count + 1)\n  },\n  {\n    loadPackageInfoError: error => ({ type: 'api/LOAD_PACKAGE_INFO_ERROR', error }),\n    reducer: (state, action) => state.set('package', new Resource({ error: action.error, success: false }))\n  },\n]\n\nexport default automap({ sagas, namespace, actionReducers, initialState, selectors })\n","import { automap } from 'redux-automap'\n\nexport const namespace = 'route'\n\n// initial state for reducer\nexport const initialState = '/'\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    change: path => ({ type: 'route/CHANGE', path }),\n    reducer: (state, action) => action.path,\n  },\n]\n\nexport default automap({ namespace, actionReducers, initialState })\n","import { fromJS } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport { Group, GroupedTag } from './dashboards.models'\n\nexport const namespace = 'dashboards'\n\nconst getTags = state => state.get('tags')\nconst getGroups = state => state.get('groups')\nconst findTag = (state, id) => state\n                                .get('tags')\n                                .find(tag => tag.get('id') === id)\nconst findGroup = (state, id) => state\n                                .get('groups')\n                                .find(group => group.get('id') === id)\nconst getLastId = items => items.maxBy(i => i.get('id')).get('id')\n// const getLastTagID = createSelector(getTags, getLastId)\nconst getLastGroupID = createSelector(getGroups, getLastId)\n\nexport const selectors = {\n  getTags, findTag\n}\n\n// initial state for reducer\nexport const initialState = fromJS({\n  tags: [\n    { id: 1, name: 'foo' },\n    { id: 2, name: 'bar' },\n    { id: 3, name: 'baz' },\n    { id: 4, name: 'cat' },\n    { id: 5, name: 'miffles' },\n    { id: 6, name: 'vlad' },\n    { id: 7, name: 'baxter' },\n  ],\n  groups: [\n    new Group({ id: 1, name: 'First Group' })\n  ]\n})\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    addGroup: (name, parent) => ({ type: 'list/ADD_GROUP', name, parent }),\n    reducer: (state, action) => {\n      let nextID = getLastGroupID(state) + 1\n\n      return state.update('groups', groups => groups.push(\n        new Group({ id: nextID, name: action.name, parent: action.parent })\n      ))\n    }\n  },\n  {\n    addTagToGroup: (tagID, groupID) => ({ type: 'list/ADD_TAG_TO_GROUP', tagID, groupID }),\n    reducer: (state, action) => {\n      let tag = findTag(state, action.tagID)\n      let matchedGroup = findGroup(state, action.groupID)\n\n      // console.log('matched tag', tag.toJS())\n      // console.log('matched group', matchedGroup.toJS())\n\n      if (!tag) throw new Error(`no tag found with id=${action.tagID}`, action)\n      if (!matchedGroup) throw new Error(`no group found with id=${action.groupID}`, action)\n\n      return state\n              .update('groups',\n                groups => groups.map(\n                  group => group === matchedGroup\n                            ? group.update('tags', tags => tags.push(new GroupedTag({ id: tag.get('id'), name: tag.get('name') })))\n                            : group\n                )\n              )\n    }\n  },\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors })\n","import { Record, List } from 'immutable'\n\n// initial state for reducer\nexport const Group = new Record({\n  id: undefined,\n  path: [ 'Assets', 'Region 1', 'Pumps' ],\n  name: 'New Group',\n  parent: undefined,\n  tags: new List(),\n})\n\n// initial state for reducer\nexport const Tag = new Record({\n  id: undefined,\n  name: 'New Tag',\n})\n\nexport const GroupedTag = new Record({\n  id: undefined,\n  name: 'New Grouped Tag',\n})\n\n// initial state for reducer\nexport default { Group, Tag, GroupedTag }\n","import { fromJS } from 'immutable'\nimport { automap } from 'redux-automap'\nimport { createSelector } from 'reselect'\nimport axios from 'axios'\nimport { call, put, takeLatest } from 'redux-saga/effects'\nimport { Tag, ApiResource, Stream } from './tags.models'\nimport streamingSaga from './tags.streaming'\n\nexport const namespace = 'tags'\n\nconst getTags = state => state.get('all')\nconst getTagById = (items, id) => items.find(item => item.get('id') === id)\nconst onlyActive = items => items.filter(item => item.get('isActive'))\nconst getActiveTags = createSelector(getTags, onlyActive)\nconst getEditingTagID = state => state.get('editingTag')\nconst getEditingTag = state => createSelector(getTags, getEditingTagID, getTagById)\n\nconst selectors = {\n  getTags, getActiveTags, getEditingTag, getEditingTagID\n}\n\n// initial state for reducer\nexport const initialState = fromJS({\n  tagsLoader: new ApiResource(),\n  streamStatus: new Stream(),\n  editingTag: false,\n  all: [\n    { id: 1, order: 1, name: 'foo', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 2, order: 2, name: 'bar', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 3, order: 3, name: 'baz', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 4, order: 4, name: 'cat', created: new Date(), updated: new Date(), isActive: false, values: [] },\n    { id: 5, order: 5, name: 'miffles', created: new Date(), updated: new Date(), isActive: false, values: [] },\n    { id: 6, order: 6, name: 'vlad', created: new Date(), updated: new Date(), isActive: true, values: [] },\n    { id: 7, order: 7, name: 'baxter', created: new Date(), updated: new Date(), isActive: true, values: [] },\n  ],\n})\n\nfunction* fetchTags() {\n  try {\n    const data = yield call(() => axios.get('/api/tags').then(r => fromJS(r.data)))\n    yield put({ type: 'tags/LOAD_TAGS_SUCCESS', data })\n  } catch (error) {\n    console.log('fetchTags', error)\n    yield put({ type: 'tags/LOAD_TAGS_ERROR', error: error.message })\n  }\n}\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* watcherSaga() {\n  yield takeLatest('tags/LOAD_TAGS', fetchTags)\n}\n\nconst sagas = {\n  watcherSaga,\n  fetchTags,\n  streamingSaga\n}\n\n// define all action/reducer pairs here... add \"type\" attributes for\nexport const actionReducers = [\n  {\n    connectStream: () => ({ type: 'tags/stream/CONNECT' }),\n    reducer: state => state.setIn(['streamStatus', 'isConnected'], false)\n  },\n  {\n    connectStreamSuccess: () => ({ type: 'tags/stream/CONNECT_SUCCESS' }),\n    reducer: state => state.setIn(['streamStatus', 'isConnected'], true)\n  },\n  {\n    disconnectStream: () => ({ type: 'tags/stream/DISCONNECT' }),\n    reducer: (state, action) => state.setIn(['streamStatus', 'isConnected'], false)\n  },\n  {\n    updateTagFromStream: (id, values) => ({ type: 'tags/stream/UPDATE', id, values }),\n    reducer: (state, action) => state.update('all', all => all.map(tag => tag.get('id') === action.id ? tag.set('values', action.values) : tag))\n  },\n  {\n    loadTags: () => ({ type: 'tags/LOAD_TAGS' }),\n    reducer: state => state.set('tagsLoader', new ApiResource({ isLoading: true }))\n  },\n  {\n    loadTagsSuccess: data => ({ type: 'tags/LOAD_TAGS_SUCCESS', data }),\n    reducer: (state, action) => state\n                                  .set('tagsLoader', new ApiResource({ success: true }))\n                                  .set('all', action.data.map(item => new Tag(item)))\n  },\n  {\n    loadTagsError: error => ({ type: 'tags/LOAD_TAGS_ERROR', error }),\n    reducer: (state, action) => state.set('tagsLoader', new ApiResource({ error: action.error }))\n  },\n  {\n    setEditingTag: id => ({ type: 'tags/SET_EDITING_TAG', id }),\n    reducer: (state, action) => state.set('editingTag', action.id)\n  },\n  {\n    unsetEditingTag: id => ({ type: 'tags/UNSET_EDITING_TAG' }),\n    reducer: (state, action) => state.set('editingTag', false)\n  },\n  {\n    editTag: (id, values) => ({ type: 'tags/EDIT_TAG', id, values }),\n    reducer: (state, action) => state\n                                  .set('editingTag', false)\n                                  .update('all',\n                                    tags => tags.map(tag =>\n                                      tag.get('id') === action.id ? tag.merge(action.values) : tag\n                                    )\n                                  )\n  }\n]\n\nexport default automap({ namespace, actionReducers, initialState, selectors, sagas })\n","import { Record, List } from 'immutable'\n\nexport const Tag = new Record({\n  id: undefined,\n  name: 'new tag',\n  created: undefined,\n  updated: undefined,\n  isActive: true,\n  isWatching: true,\n  values: List()\n})\n\nexport const ApiResource = Record({\n  isLoading: false,\n  success: false,\n  error: undefined,\n})\n\nexport const Stream = Record({\n  isConnected: false,\n  lastMessageReceived: undefined,\n  error: undefined,\n})\n","import io from 'socket.io-client'\nimport { eventChannel } from 'redux-saga'\nimport { fork, take, call, put, all, cancel } from 'redux-saga/effects'\n\nimport tags from './tags'\nconst CHANNEL_NAME = '/tags'\n\nfunction connect(channel) {\n  console.log('connecting to socket channel', channel)\n  const socket = io()\n  return new Promise((resolve) => {\n    socket.on('connect', () => {\n      console.log('connected to socket server')\n      resolve(socket)\n    })\n  })\n}\n\nfunction subscribe(socket) {\n  return eventChannel((emit) => {\n    socket.on('tags/update', (data) => {\n      emit(data)\n    })\n    socket.on('disconnect', () => {\n      console.warn('socket disconnected')\n    })\n    return () => { }\n  })\n}\n\nfunction* listen(socket) {\n  const channel = yield call(subscribe, socket)\n  while (true) {\n    const { id, values } = yield take(channel)\n    // console.log(`receiving data from channel ${CHANNEL_NAME}`, id, values)\n    yield put(tags.updateTagFromStream(id, values ))\n  }\n}\n\nexport default function* streamingSaga() {\n  while (true) {\n    // Wait until connect requested\n    yield take('tags/stream/CONNECT')\n\n    // Create a socket connection\n    const socket = yield call(connect, CHANNEL_NAME)\n    yield put(tags.connectStreamSuccess())\n    /*\n      Parallelize the following tasks, and continue:\n        - listen for socket events\n        - wait for user to start a signal stream\n        - wait for user to stop a signal stream\n    */\n    const tasks = yield all([\n      fork(listen, socket),\n    ])\n\n    // Wait until disconnect requested\n    yield take('tags/stream/DISCONNECT')\n\n    // Close the socket connection\n    socket.emit('disconnect')\n    socket.close()\n\n    // stop each task\n    // yield cancel(...tasks)\n  }\n}\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Navigation, { routes } from './Nav'\n\nconst App = () =>\n  <div>\n    <h1>FuseBox Workflow Demo</h1>\n    <Navigation />\n    <div className=\"page-content\">\n      <Switch>\n        {\n          routes.map(route => <Route\n                                key={route.path}\n                                path={route.path}\n                                component={route.component}\n                              />\n          )\n        }\n        <Redirect from=\"/\" exact to={routes.length && routes[0].path} />\n      </Switch>\n    </div>\n  </div>\n\nexport default App\n","import React from 'react'\nimport { Menu } from 'semantic-ui-react'\nimport { NavLink } from 'react-router-dom'\n\n// pages\nimport { ConnectedList } from './pages/List'\nimport { ConnectedPackage } from './pages/Package'\nimport Groups from './pages/Groups'\n\nexport const routes = [\n  { path: '/list', name: 'List', component: ConnectedList },\n  { path: '/package', name: 'Package', component: ConnectedPackage },\n  { path: '/groups', name: 'Streaming Tags', component: Groups },\n]\n\nexport const Nav = () =>\n  <Menu pointing secondary className=\"navigation\">\n    {\n      routes.map(route => <Menu.Item\n                            key={route.path}\n                            to={route.path}\n                            name={route.name}\n                            as={NavLink}\n                          />)\n    }\n  </Menu>\n\nexport default Nav\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport { Divider, Table } from 'semantic-ui-react'\nimport Item from './Item'\nimport AddItem from './AddItem'\nimport list from '../../../state/list'\n\nconst List = ({ items = [], addItem, removeItem, toggleIsActive }) =>\n  <React.Fragment>\n    <AddItem addItem={addItem} />\n    <Divider horizontal>{ items.length } Items</Divider>\n    <Table compact celled definition>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell />\n          <Table.HeaderCell>Id</Table.HeaderCell>\n          <Table.HeaderCell>Name</Table.HeaderCell>\n          <Table.HeaderCell>Created</Table.HeaderCell>\n          <Table.HeaderCell>Active</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {\n          items.map(item => <Item\n                              key={item.id}\n                              item={item}\n                              removeItem={() => removeItem(item.id)}\n                              toggleIsActive={() => toggleIsActive(item.id)}\n                            />\n                    )\n        }\n      </Table.Body>\n    </Table>\n  </React.Fragment>\n\nList.propTypes = {\n  items: PropTypes.array.isRequired,\n  addItem: PropTypes.func.isRequired,\n  removeItem: PropTypes.func.isRequired,\n  toggleIsActive: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  items: list.getItems(state)\n})\n\nexport const ConnectedList = connect(mapStateToProps, list.actions)(fromImmutable(List))\n\nexport default List\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Table, Checkbox } from 'semantic-ui-react'\nimport humanize from 'humanize-duration'\n\nconst ListItem = ({ item, removeItem, toggleIsActive }) =>\n  <Table.Row>\n    <Table.Cell width={1}>\n      <Button\n        circular\n        fluid\n        icon=\"trash\"\n        size=\"mini\"\n        onClick={removeItem}\n        disabled={item.isActive}\n        />\n    </Table.Cell>\n    <Table.Cell width={1}>{ item.id }</Table.Cell>\n    <Table.Cell>{ item.name }</Table.Cell>\n    <Table.Cell>created { humanize(new Date() - item.date, { round: true }) } ago</Table.Cell>\n    <Table.Cell width={1}>\n      <Checkbox\n        toggle\n        checked={item.isActive}\n        onClick={toggleIsActive}\n        />\n    </Table.Cell>\n  </Table.Row>\n\nListItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  removeItem: PropTypes.func.isRequired,\n  toggleIsActive: PropTypes.func.isRequired,\n}\n\nexport default ListItem\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Input, Form } from 'semantic-ui-react'\n\nclass AddItem extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { value: 'foo' }\n    this.update = this.update.bind(this)\n    this.addItem = this.addItem.bind(this)\n  }\n\n  update(e) {\n    this.setState({\n      value: e.target.value\n    })\n  }\n\n  addItem() {\n    let itemName = this.state.value || 'new item'\n    this.props.addItem(itemName)\n    this.setState({ value: '' })\n  }\n\n  render() {\n    return (\n      <Form onSubmit={this.addItem}>\n        <Input\n          fluid\n          placeholder=\"New Item\"\n          action={{ labelPosition: 'right', icon: 'plus', content: 'Add Item' }}\n          actionPosition='left'\n          onChange={this.update}\n          value={this.state.value}\n          />\n      </Form>\n    )\n  }\n}\n\nAddItem.propTypes = {\n  addItem: PropTypes.func.isRequired\n}\n\nexport default AddItem\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport Dependencies from './Dependencies'\nimport ErrorMessage from '../../messages/ErrorMessage'\nimport api from '../../../state/api'\n\nconst Package = ({ pkg, deps, devDeps, timesLoaded, loadPackageInfo }) =>\n  <div className=\"package-loader\">\n    <Button fluid disabled={pkg.isLoading} onClick={loadPackageInfo} loading={pkg.isLoading}>\n      { deps.length ? `Reload Package (loaded ${timesLoaded} times)` : 'Load Package' }\n    </Button>\n    { deps.length > 0 && <Dependencies deps={deps} devDeps={devDeps} /> }\n    { pkg.error && <ErrorMessage message={pkg.error} /> }\n  </div>\n\nPackage.propTypes = {\n  pkg: PropTypes.object.isRequired,\n  deps: PropTypes.array,\n  devDeps: PropTypes.array,\n  timesLoaded: PropTypes.number.isRequired,\n  loadPackageInfo: PropTypes.func.isRequired,\n}\n\nPackage.defaultProps = {\n  deps: [],\n  devDeps: []\n}\n\nconst mapStateToProps = state => ({\n  pkg: api.getPackage(state),\n  deps: api.getDependenciesAsArray(state),\n  devDeps: api.getDevDependenciesAsArray(state),\n  timesLoaded: api.getTimesLoaded(state),\n})\n\nexport const ConnectedPackage = connect(mapStateToProps, {\n  loadPackageInfo: api.actions.loadPackageInfo\n})(fromImmutable(Package))\n\nexport default Package\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, Message } from 'semantic-ui-react'\nimport List from './List'\n\nconst Dependencies = ({ deps, devDeps }) =>\n  <Message positive>\n    <Grid columns={2} divided>\n      <Grid.Row>\n        <Grid.Column>\n          <List name=\"Dependencies\" libs={deps} />\n        </Grid.Column>\n        <Grid.Column>\n          <List name=\"Dev. Dependencies\" libs={devDeps} />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Message>\n\nDependencies.propTypes = {\n  deps: PropTypes.array,\n  devDeps: PropTypes.array,\n}\n\nDependencies.defaultProps = {\n  deps: [],\n  devDeps: [],\n}\n\nexport default Dependencies\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { List, Statistic } from 'semantic-ui-react'\n\nconst PackageList =({ name, libs = [] }) =>\n  <div>\n    <Statistic horizontal color=\"green\" label={name} value={libs.length} />\n    <List>\n      {\n        libs.map(lib => (\n          <List.Item key={lib.name}><b>{ lib.name }</b>: { lib.version }</List.Item>\n        ))\n      }\n    </List>\n  </div>\n\nPackageList.propTypes = {\n  name: PropTypes.string.isRequired,\n  libs: PropTypes.array,\n}\n\nPackageList.defaultProps = {\n  libs: [],\n}\n\nexport default PackageList\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Message } from 'semantic-ui-react'\n\nconst ErrorMessage = ({ message, children }) =>\n  <Message negative>\n    <Message.Header>We&lsquo;ve encountered an error.</Message.Header>\n    <p>{ message || children }</p>\n  </Message>\n\nErrorMessage.propTypes = {\n  message: PropTypes.string,\n  children: PropTypes.element\n}\n\nErrorMessage.defaultProps = {\n  message: undefined,\n  children: undefined\n}\n\nexport default ErrorMessage\n","import React from 'react'\nimport { Grid, Container, Sidebar, Segment, Menu, Card } from 'semantic-ui-react'\nimport GroupsNavigation from './GroupsNavigation'\nimport { ConnectedTags } from './Tags'\n\nconst cards = Array(7).fill(0).map(i => ({ name: `Tag #${Math.random().toString().slice(0, 6)}` }))\n\nconst Groups = () =>\n  <Grid divided>\n    <Grid.Row>\n      <Grid.Column width={4}>\n        <GroupsNavigation />\n      </Grid.Column>\n      <Grid.Column width={12}>\n        <ConnectedTags />\n      </Grid.Column>\n    </Grid.Row>\n  </Grid>\n\nexport default Groups\n","import React from 'react'\n\nconst GroupsNavigation = () =>\n  <div>Groups</div>\n\nexport default GroupsNavigation\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fromImmutable } from 'react-wrappers'\nimport { Card, Header } from 'semantic-ui-react'\nimport tags from '../../../state/tags'\nimport Chart from './HighChart'\nimport AllowEdit from './AllowEdit'\n\nconst Tags = ({ tags, setEditingTag, editingTagID, unsetEditingTag, editTag }) => {\n  return (\n    <Card.Group className=\"tags\" itemsPerRow={3}>\n      {\n        tags.map(tag =>\n          <Card raised className=\"tag\" key={tag.name}>\n            <Card.Header>\n              <Header floated=\"left\" textAlign=\"center\">{tag.name}</Header>\n              <AllowEdit\n                tag={tag}\n                isEditing={tag.id === editingTagID}\n                enterEditMode={() => setEditingTag(tag.id)}\n                exitEditMode={unsetEditingTag}\n                saveTagAction={editTag}\n              />\n            </Card.Header>\n            <Card.Content>\n              <Chart\n                tag={tag}\n                values={tag.values}\n                min={-20}\n                max={20}\n                setEditingTag={() => setEditingTag(tag.id)}\n              />\n            </Card.Content>\n          </Card>\n        )\n      }\n    </Card.Group>\n  )\n}\n\n\nTags.propTypes = {\n  tags: PropTypes.array.isRequired,\n  // addItem: PropTypes.func.isRequired,\n  // removeItem: PropTypes.func.isRequired,\n  // toggleIsActive: PropTypes.func.isRequired,\n}\n\nTags.defaultProps = {\n  tags: []\n}\n\nconst mapStateToProps = state => ({\n  tags: tags.getActiveTags(state),\n  editingTagID: tags.getEditingTagID(state),\n})\n\nexport const ConnectedTags = connect(mapStateToProps, tags.actions)(fromImmutable(Tags))\n\nexport default Tags\n","import React from 'react'\nimport ReactHighcharts from 'react-highcharts'\nimport moment from 'moment'\n\nvar config = {\n  chart: {\n    type: 'spline'\n  },\n  title: {\n    text: undefined\n  },\n  credits: {\n    enabled: false\n  },\n  xAxis: {\n    type: 'datetime',\n    dateTimeLabelFormats: { // don't display the dummy year\n      month: '%e. %b',\n      year: '%b'\n    },\n    title: '',\n  },\n  yAxis: {\n    title: '',\n  },\n  series: [{\n    data: Array(50).fill(0),\n  }],\n  legend: {\n    enabled: false\n  },\n  plotOptions: {\n    spline: {\n      marker: {\n        enabled: false\n      }\n    }\n  }\n}\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n    // this.chart = this.chart.getChart()\n    // console.log('this.chart', this.chart)\n  }\n\n  componentWillReceiveProps(next) {\n    const chart = this.chart.getChart()\n    const newValues = next.values.map(v => [v.date, v.value])\n    // console.log('rendering new values', newValues)\n    // console.log('this.chart', chart)\n    chart.series[0].addPoint(newValues.pop(), true, true, false)\n  }\n\n  render() {\n    return(\n      <div className=\"tag\">\n        <ReactHighcharts config={config} isPureConfig={true} ref={ref => this.chart = ref} />\n      </div>\n    )\n  }\n}\n\nexport default Chart\n","import React from 'react'\nimport { Icon, Dialog, Button, Modal } from 'semantic-ui-react'\n\nconst AllowEdit = ({ tag, isEditing, enterEditMode, exitEditMode, saveTagAction }) => {\n  return (\n    <React.Fragment>\n      <Button\n        basic\n        circular\n        compact\n        className=\"edit-button\"\n        floated=\"right\"\n        icon=\"pencil\"\n        onClick={enterEditMode}\n      />\n\n      <Modal size=\"small\" open={isEditing} onClose={exitEditMode}>\n        <Modal.Header>Edit Tag > { tag.name }</Modal.Header>\n        <Modal.Content>\n          <p>Some edit content forms would go here.</p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic onClick={exitEditMode}>Cancel</Button>\n          <Button positive icon='checkmark' labelPosition='right' content='Save' onClick={() => saveTagAction(tag.id, tag)} />\n        </Modal.Actions>\n      </Modal>\n    </React.Fragment>\n  )\n}\n\nexport default AllowEdit\n"]}